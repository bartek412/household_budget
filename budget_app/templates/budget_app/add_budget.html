{% extends base_path %}

{% block budgets %}

<div class="accordion" id="accordionExample">
                
    <div class="card bg-transparent border-0">
        <div class="card-header bg-transparent border-0" style="padding:0%;" id="headingOne">
            <div class = 'sidenav_element'>
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-list-check" viewBox="0 0 15 15">
                        <path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3.854 2.146a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708L2 3.293l1.146-1.147a.5.5 0 0 1 .708 0zm0 4a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708L2 7.293l1.146-1.147a.5.5 0 0 1 .708 0zm0 4a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0z"/>
                    </svg>
                    <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne" style="text-decoration: none;">
                        Budgets
                    </button>
            </div>
        </div>
        <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
            <div class="card-body" style="padding:10%; padding-top: 0%; padding-bottom: 0%;">
            </div>
            <div class="card-body" style="padding:0%">
                <ul class="list-group list-group-flush" style="padding-left: 10%; padding-right: 10%;">
                    {% for i in budgets_list %}
                    <li class="list-group-item" style="padding: 0.25rem 0.5rem; background-color: rgb(228, 243, 255);">
                        <a href = '/budgets/{{i.id}}' style="padding-left: 0px; padding-top: 0px; font-size:13px;">{{i.name}}</a>
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
</div>

{% endblock %}


{% block content %}
<div style = "padding-top: 10px; padding-left: 10px; padding-bottom: 10px;">
    <form method = 'post' action = '#'>
        {% csrf_token %}
        <div class = "form-group row" >
            <label class = "col-sm-2 col-form-label">Name</label>
            <div class = "col-sm-4"></div>
            <div class="col-sm-6">
                <input type = "text" name = "name" style = "width: 150px;" class = "form-control" required>
            </div>
        </div>
        <div class = "form-group row">
            <label class = "col-sm-2 col-form-label" >Description</label>
            <div class = "col-sm-4"></div>
            <div class="col-sm-6">
                <input type = "text" name = "description" style = "width: 150px;" class = "form-control">
            </div>
        </div>
        {% comment %} <div class = "form-group row">
            <label class = "col-sm-2 col-form-label" >Users</label>
            <div class = "col-sm-4"></div>
            <div class="col-sm-6">
                  <select id="selectuser"  name="users_list">
                      <option selected disabled = "true">-- Select Users --</option>
                      {% for i in users %}
                      <option>{{ i }}</option>
                      {% endfor %}
                  </select>
            </div>
        </div> {% endcomment %}
        <button class = "btn btn-primary" type="submit" name = "budget_added" value = "budget_added">Add budget</button>
    </form>
</div>



<script>
$(document).ready(function(){
    $('#selectuser').select2();
});
</script>
{% if added %}
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script>
        swal('Budget added succesfully');
    </script>
{% endif %}
{% endblock %}